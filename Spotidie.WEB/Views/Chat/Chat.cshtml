@using Microsoft.AspNetCore.Identity
@using Spotidie.DAL.EF

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<script src="~/js/signalr/dist/browser/signalr.js"></script>
<script type="text/javascript" src="~/js/signalr/dist/browser/signalr.min.js"></script>
<script type="text/javascript" src="~/js/signalr/dist/browser/signalr.js"></script>


@* <div class="user-nav"> *@
@*     <div class="container" style="margin: 120px; align-content: flex-start; justify-content: flex-start"> *@
@*         <div class="col-8" style="color: white; margin: 5px">User</div> *@
@*         <div class="col-8" style="margin: 5px"> *@
@*             @if (SignInManager.IsSignedIn(User)) *@
@*             { *@
@*                 <input type="text" id="userInput" value="@UserManager.GetUserName(User)"/> *@
@*             } *@
@*             else *@
@*             { *@
@*                 <input type="text" id="userInput" value=""/> *@
@*             } *@
@*         </div> *@
@*         <div class="col-8" style="color: white; margin: 5px">Message</div> *@
@*         <div class="col-8" style="margin: 5px"> *@
@*             <input type="text" id="messageInput"/> *@
@*         </div> *@
@*         <div class="col-8" style="margin: 5px"> *@
@*             <input type="button" id="sendButton" value="Send Message" class="registerbtn"/> *@
@*         </div> *@
@*         <div class="col-8" style="margin: 5px"> *@
@*             <ul id="messagesList"></ul> *@
@*         </div> *@
@*     </div> *@
@* </div> *@


<div class="chatt-fields">
    <div>
        <form class="chatt-field-input" action="">
            <div class="chatt-user-message">
                @if (SignInManager.IsSignedIn(User))
                            {
                                <input class="cahtt-user-s" id="userInput" type="text" placeholder="User" value="@UserManager.GetUserName(User)" required>
                            }
                            else
                            {
                                <input type="text" id="userInput" placeholder="User" value=""/>
                            }
                <textarea class="chatt-message-s" id="messageInput" type="text" placeholder="Message"  required></textarea>
            </div>
            <button class="cahtt-send-s" id="sendButton"  type="submit">Отправить</button>
        </form>
    </div>
    <div class="chatt-mes-s">
        <div class="mes" >
            <ul id="messagesList"></ul>
        </div>
    </div>
</div>

<script src="~/js/chat.js"></script>